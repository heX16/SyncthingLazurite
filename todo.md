

Потребление ресурсов
=====================

мне не нравится что эта утилита потребляет очень много ресурсов!
если посмотреть CPU time то выясняется что утилита прожорливая - сам syncthing может потреблять меньше ресурсов...



Код важное
======

Добавить "предохранитель"
специальная опция
проверять на каком носителе находится папка.
если носитель отличается от допустимого то останавливать папку и выводить варнинг.
А то такая история:
есть два носителя информации.
один основной, и второй это бэкап.
Бэкап я подключаю редко и запускаю вручную.
И я сейчас понял, что если нечаенно смонтирую бэкап на тотже диск,
то syncthing не поймет прикола, и начнет синхронизацию в обратную сторону - удалит новые файлы.



Перенести все наработки (и все файлы) по Python в проект ModbusTool.
Python из этого проекта убрать.

Убрать asynchttp.pas!!!
Попробовать использовать https://wiki.lazarus.freepascal.org/lNet
Оно умеет посылать асинхронные запросы HTTP. Если правильно приготовить то даже не лагает.

Сделать структуру которая содаржит все необходимые данные для рендеринга в "GUI-тред".
Причем изначально эти переменные пустые или не инициализированные.
Доступ к структуре через особый getter (который синхронизирует треды).
Сделать второй тред, который выкачивает данные из syncthing по http.
Этот второй тред по мере выкачивания данные выкладывает их в структуру.
Запись данные в структуру через особый setter (который синхронизирует треды).
После этого он посылает уведомление в "GUI-тред".



Код не важное
======

API:
offset - позволяет захватывать не всю структуру, а только ее небольшую часть. (реализовывать функционал offset сразу не требуется)
```
function DataIsAvaiable(offset: int): bool; - данные уже заблокированны?
function GetData(offset: int): PStruct; - блокировка данных
procedure ReleaseData(offset: int); - особождение блокировки

f := GetData(offset(TStruct.Field1))^.Field1;
```



Код
======

иконку в трее показывать только после успешного запуска.



Уведомления
================
уведомления при изменении папки (опционально для каждой папки и в общем).
имеется ввиду уведомление когда по сети приходят новые версии файлов от других устройств.

при появлении нового устройства в сети (опционально).


Пути и папки
=================

сделать проверку путей - если путь отсутствовал а потом появился то дергать эту папку на перезагрузку.
и можно добавить уведомление и востановлении пути (опционально).


Иконки
==========
при появлении нового устройства в сети иконка помигавает (опционально).

сделать список обязательных девайсов - если их нет в сети то на иконке зажигается красный кругляшок.

сделать список игнорируемых девайсов - их наличие никак не влияет на иконку.

все остальные девайсы - если они в сети то на иконке появляется зеленый кругляшок или (опционально) число (кол-во девайсов).

Иконки в GUI
==========

Иконка что девайс находится в локальной сети. (это бывает полезно чтобы быстро понять - мы качаем гигабайты через инет или локально)
3 режима отображения:
* выкл.
* вкл.
* показывать только при обмене данными.


Расписание
==============

сделать расписание запусков папки, причем с возможностью выполнения команд по различным событиям (запуск, остановка и тп).
тоесть у нас есть увесистая папка, которую достаточно синхронить раз в неделю в облако.
также можно указать с какими устройствами оно должно дружить.

сделать расписание запусков устройства - например включаем устройство только раз в неделю.

сделать расписание запусков syncthing - например syncthing слишком тяжелый для этого устройства и жрет слишком много памяти, поэтому расписание.
плюс контроль памяти - если ктото (хром или игрушка) сьел память и ее нехватает, то отключаем syncthing.


Переключение между серверами
===================================

Добавить возможность добавления множества серверов (а не только локальный) и возможность быстро между ними переключаться.
У удаленных серверов можно только смотреть статусы, без их настройки.

тоесть в этом случае GUI один, а инстансов(серверов) которые обслуживаются этим GUI много.




