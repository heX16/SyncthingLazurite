
При закрытии syncthing, наша программма не замечает отключения.
Вообще не замечает.
И даже таймаут на подключение к long pooling не срабатывает.
Тоесть:
1. в момент отключения syncthing, наша программа не выдает никаких сообщений и делает вид что все еще подключенна.
2. через 60 секунд должен произойти реконнект long pooling соединения к syncthing, и в теории в этот момент программа заметит что отключенна.
но ничего не происходит.
через 60 секунд, и даже через 10 минут - программа не выдает никаких сообщений и делает вид что все еще подключенна.

Если нажать кнопку "отключиться" то произойдет правильное отключение.
Если затем нажать кнопку "подключиться" то произойдет правильная попытка подключения с сообщением об ошибке.
Это значит что функция disconnect и все функции связанные с этой функцией работают корректно.

Нужно писать юнит тесты для AsyncHTTP. Возможно проблема в этой библиотеке.

-----------------------------


